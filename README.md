# Проект "Виджет банковских операций клиента"

## Описание:

"Виджет банковских операций клиента" - это разработка на Python для отображения информации по транзакциям клиента.

### Последние реализованные фичи:

- Фильтрация транзакций клиента по заданному клиентом статусу.
- Сортировка транзакций по возрастанию или убыванию.
- Модуль **generators**, в котором реализованны следующие фичи:
  - Последовательный вывод транзакций, отфильтрованных по заданной пользователем валюте
  - Последовательный вывод описаний транзакций
  - Генерация номеров карт в диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999

## Установка (используйте PyCharm):

1. Клонируйте репозиторий:
```
git clone https://github.com/<user_name>/hw_module_2.git
```
2. Установите зависимости:
```
poetry install
```
## Использование:

1. В **PyCharm** откройте проект `hw_9_1`.
Список транзакций уже указан для переменной `user_input_transaction_list` в файле `main.py`.
2. В терминале **PyCharm** запустите фильтрацию и сортировку транзакций с помощью команды `python main.py`.
3. В терминале по запросу укажите необходимое значение для фильтрации транзакций
и направление сортировки первоначального списка.

### Модуль **generators**
В модуле реализованы возможности фильтрации транзакций по заданной валюте, вывод описаний транзакций,
а также генерация номеров карт в заданном диапазоне
1. Функция `filter_by_currency` возвращает итератор, который поочередно выдает транзакции,
    где валюта операции соответствует заданной (например, USD).
  _Пример использования:_
2. Генератор `transaction_descriptions` принимает список словарей с транзакциями
и возвращает описание каждой операции по очереди.
  _Пример использования:_
3. Генератор `card_number_generator` выдает номера банковских карт в формате XXXX XXXX XXXX XXXX,
где X — цифра номера карты.
    Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.




## Тестирование с помощью Pytest

### Установка и запуск Pytest

1. Фреймворк Pytest устанавливается вместе с остальными зависимостями при запуске команды `poetry install`.
2. Чтобы запустить тесты в терминале введите `pytest`.


### Краткое описание тестов для каждого модуля

- Модуль masks, test_get_mask_account: 
    
    - проверяется корректное создание маски для корректного номера счета пользователя
    - проверяется вызов ошибки ValueError в случае передачи некорректного номера счета пользователя

- Модуль masks, test_get_mask_card_number:

    - проверяется корректное создание маски для корректного номера карты пользователя
    - проверяется вызов ошибки ValueError в случае передачи некорректного номера карты пользователя

- Модуль widget, test_mask_account_card: 

    - проверяется правильное определение типа переданных данных (карта или счет)
  и корректная маска для идентифицированного типа
    - проверяется корректность маски для разных типов счета
    - проверяется, что если пользователь ввел только цифры, вызовется ошибка IndexError,
  как следствие отсутствия названия карты или счета
    - проверяется вызов ошибки ValueError в случае передачи некорректных данных

- Модуль widget, test_get_date:
    
    - проверяется корректность детекта даты при корректном формате переданных данных
    - проверяется вызов ошибки ValueError в случае передачи некорректных данных

- Модуль processing, test_filter_by_state:

    - проверяется корректность фильтрации при различных значениях статуса транзакции
    - проверяется корректность фильтрации, если статус транзакции не был указан (используется значение по умолчанию)
    - проверяется корректность фильтрации, если указанный статус отсутствует в списке,
  статус передан не в том регистре или содержит спецсимволы

- Модуль processing, test_sort_by_date:

    - проверяется корректность сортировки списка транзакции по возрастающей и убывающей
      (транзакции с одинаковой датой тоже есть в тестовом наборе)
    - проверяется корректность сортировки списка транзакции, если значение сортировки не задано
    - проверяется, что если весь список транзакций содержит пустые значения для даты
  или поле даты отсутствует полностью, функция вернет первоначальный список
    - проверяется, что если список транзакций содержит пустые и непустые значения в поле даты,
  то сортировка будет выполнена, а транзакции с пустой датой будут вверху или внизу списка
  в зависимости от направления сортировки
    - проверяется сортировка если указано только время, указана только дата и если дата указана с точками

## Лицензия:

Это учебный проект и не предназначен для коммерческого использования